@page "/"
@using IMC.Model
@using IMC.Repositorio
@inject NavigationManager navi;

@inject ILocalStorageService LocalStorage

<Cal_IMC pessoa="_pessoa" CalcularIMC="CalcularIM"> 


</Cal_IMC>

@code {
    private Pessoa _pessoa = new Pessoa();


    private List<CalcIMC> _history = new();

    protected override void OnInitialized()
    {
        // _pessoa.Peso = 100;
        var imcResultRepository = new ImcRepositorio(LocalStorage);

        _history = imcResultRepository.Get();
    }

    public async Task CalcularIM(Pessoa pessoa)
    {
        var imcResultRepository = new ImcRepositorio(LocalStorage);
        imcResultRepository.Create(pessoa);
        var history = imcResultRepository.Get();
<<<<<<< HEAD
        Console.WriteLine();
=======
        navi.NavigateTo("/history");

>>>>>>> 142c3f911db911e1e79e5dac255138e41f43fe6f
    }
}